
# 🏡 데이터타입

데이터가 메모리에 저장되는 방식을 확인함으로써 

## 🔥 기본형과 참조형

### Primitive Type      `값을 그대로 할당`

Number, String, Boolean, null, undefined, Symbol(ES6)

### Reference Type       `값이 저장된 주소값을 할당 (참조)` 

Object (Array, Function, RegExp) , WeakMap, WeakSet (ES6)

```js
var a   // 공간 확보 -> 해당 공간의 주소를 변수명과 매칭 (선언) 
a=10;   // 할당 (해당 공간을 가리키는 주소에 데이터를 저장)
var b= 'abc';
b = false; 

/**
var라는 키워드가 없기때문에 현재 가지고 있는 변수 중에 b 가 있는지 검색 
b를 찾지못하면 선언 과정을 거침. b가 가르키는 가리치는 314 주소 공간으로 이동 한 다음
들고 온 값인 false 를 덮어 씀 
**/

var c = b;
b === c true
c= 20; 
b !== c

//참조형의 경우 동작이 다름   
var obj = {
  a: 1,
  b: 'b'
};

/**
선언은 동일 
공간의 값을 할당하려고 보니 참조야.
프로퍼티와 데이터 키와 밸류로 매칭된 쌍들로 이루어짐
프로퍼티 명은 변수와 비슷한 성질을 지님 
데이터 공간에 기본형 데이터가 담길 때까지 반복
즉 참조형 데이터는 , 결과적으로 기본형 데이터의 집합이라 볼 수 있음
**/

var obj2 = obj; 
//객체는 저기 어딘가에 따로 저장되어있는데, 그 객체가 저장된 주소값만을 복사해온것 
obj2.a = 10; 
// @414 -> @1011 -> a 프로퍼티 찾고 -> @1012 -> 1 대신 10 을 씀
console.log(obj2.a) ; //10
console.log(obj.a); //10
obj === obj2

/**
이 개념을 이해해야 깊은 복사 얇은 복사를 이해함 
**/
```

**primitive type** 

| 변수명 | a    | b    | c    |      |
| ------ | ---- | ---- | ---- | ---- |
| 주소   | @313 | @314 | @315 |      |

| 주소   | ...  | 313    | 314                      | 315  | 316  | 317  | ...  |
| ------ | ---- | ------ | ------------------------ | ---- | ---- | ---- | ---- |
| 데이터 |      | - → 10 | (확보) => 'abc' => false | 20   |      |      |      |

**reference type**

| 변수명 | obj  | obj2 |      |      |
| ------ | ---- | ---- | ---- | ---- |
| 주소   | @413 | @414 |      |      |

| 주소   | ...  | 413        | 414   | ...  | 1011                            | 1012   | 1013     | ...  |
| ------ | ---- | ---------- | ----- | ---- | ------------------------------- | ------ | -------- | ---- |
| 데이터 |      | - => @1011 | @1011 |      | {<br /> a: @1012,<br />b:@1013} | - => 1 | - => 'b' |      |



**nested한 객체** 

참조형 안에 또다른 참조형 

```js
var obj3 = {
  a: [4,5,6]
};

obj3.a ='new'
```

| 변수명 | obj3 |      |      |      |
| ------ | ---- | ---- | ---- | ---- |
| 주소   | @547 |      |      |      |

| 주소   | ...  | 547          | ...  | 1184                   | 1185                                        | ...  | 1326     | 1327     | 1328     | ...  |
| ------ | ---- | ------------ | ---- | ---------------------- | ------------------------------------------- | ---- | -------- | -------- | -------- | ---- |
| 데이터 |      | -<br />@1184 |      | {<br />a: @1185<br />} | [<br />@1326,<br />@1327,<br />@1328<br />] |      | -<br />4 | -<br />5 | -<br />6 |      |

**new 를 할당한다면?**


| 주소   | ...  | 547          | ...  | 1184                   | 1185  | ...  | 1326     | 1327     | 1328     | ...  |
| ------ | ---- | ------------ | ---- | ---------------------- | ----- | ---- | -------- | -------- | -------- | ---- |
| 데이터 |      | -<br />@1184 |      | {<br />a: @1185<br />} | 'new' |      | -<br />4 | -<br />5 | -<br />6 |      |

1326, 1327, 1328 을 가리키는 링크가 사라짐 

배열정보가 있을 때 순수 데이터가 들어옴으로써 저장된 데이터들의 링크가 사라짐 

이 주소를 참조하고 있던 곳이 어디에도 없게 됨

garbage collector 메모리 청소 대상이 돼서 쥐도 새도 모르게 사라짐 
